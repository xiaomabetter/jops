=== Usergrid Thrift

==== 概况

环信系统的 App 用户信息保存在 Usergrid 系统中。
Ejabberd 验证用户登录时通过 Thrift 协议与 Usergrid Thrift Server 通讯，完成身份验证。

Thrift Server 对比缓存(Redis)和数据库(Cassandra)中的用户 Token，完成验证。

==== 基础环境

Java 8

==== 基本操作命令

启动
----
sudo monit start thrift
----

停止
----
sudo monit stop thrift
----

==== 业务代码更新（CI）

CI 中执行 ansible-playbook 用于更新。

对应 ansible 的 role 为 `ci/usergrid_thrift`，依赖 role `ci/usergrid_properties`。

==== 日志与监控

日志路径为 `/data/apps/log/usergrid/usergrid.log`

==== 参数优化
